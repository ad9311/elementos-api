{{template "index" .}}
{{define "main"}}
{{$CSRFToken := .CSRFToken}}
<main>
  <div class="w-4/5 mx-auto mb-20">
    <div class="mt-6 mx-auto max-w-sm p-3 rounded-md border border-stone-200">
      <div class="w-4/5 mx-auto">
        <div class="flex items-center mb-6">
          <h2 class="text-2xl mr-2">Categories</h2>
          <a href="/categories/new">
            <button type="button" class="mr-2 py-1 px-2 rounded-md bg-sky-500 text-white">New</button>
          </a>
        </div>
        {{range .Categories}}
        <ul>
          <li class="mb-3 flex justify-between items-center">
            <h3 class="text-lg mr-2">{{.Name}}</h3>
            <div class="flex items-center">
              <form id="delete_category" action="/categories/{{.ID}}/delete" method="post">
                <input type="hidden" name="csrf_token" value="{{$CSRFToken}}">
                <input type="hidden" name="category_id" value="{{.ID}}">
                <input type="submit" value="Delete" class="mr-2 py-1 px-2 rounded-md bg-red-500 text-white cursor-pointer">
              </form>
              <a href="/categories/{{.ID}}/edit">
                <button type="button" class="mr-2 py-1 px-2 rounded-md bg-sky-500 text-white">Editar</button>
              </a>
            </div>
          </li>
        </ul>
        {{end}}
      </div>
    </div>
  </div>
</main>
{{end}}